{"version":3,"sources":["webpack:///./src/utils/config.js","webpack:///./src/views/record/prerecode.vue?3cb7","webpack:///./src/views/record/prerecode.vue","webpack:///./src/views/record/prerecode.vue?9f54","webpack:///./src/views/record/prerecode.vue?28df"],"names":["config","ArtAddress","TokenAddress","SwapRouter","FactoryAddress","WBNB","class","Headtype","title","$t","artprice","list","item","user","Number","amount","Math","pow","toFixed","$dateformat","Date","id","components","HeadTop","setup","t","store","data","address","state","accounts","web3","provider","initContract","artContract","eth","Contract","ArtAbi","getData","getPrice","apollo","defaultClient","query","variables","first","toLowerCase","fetchPolicy","then","result","investLists","catch","err","methods","price","call","val","refData","__exports__","render"],"mappings":"kHAAA,IAAMA,EAAS,CACbC,WAAY,6CACZC,aAAc,6CACdC,WAAY,6CACZC,eAAgB,6CAChBC,KAAM,8CAQOL,U,oCCbf,W,ijMCCOM,MAAM,0B,GAEJA,MAAM,Q,GAEJA,MAAM,Q,GACJA,MAAM,S,GACNA,MAAM,W,GACNA,MAAM,sC,GACJA,MAAM,O,GACJA,MAAM,S,GACNA,MAAM,yB,GAERA,MAAM,O,GACJA,MAAM,S,GACNA,MAAM,yB,GAGVA,MAAM,4B,GACJA,MAAM,Y,GACNA,MAAM,Q,0GAnBnB,eAuBM,MAvBN,EAuBM,CAtBJ,eAAmE,GAAzDC,SAAU,EAAAA,SAAWC,MAAO,EAAAC,GAAE,gB,6BACxC,eAoBM,MApBN,EAoBM,C,8BAnBF,EAAAC,UAAU,IACZ,I,mBAAA,eAiBM,2BAjB2B,EAAAC,MAAI,SAAZC,G,wBAAzB,eAiBM,MAjBN,EAiBM,CAhBJ,eAA8C,MAA9C,EAA8C,eAAzB,EAAAH,GAAE,mBACvB,eAAwC,MAAxC,EAAwC,eAAjBG,EAAKC,MAAI,GAChC,eASM,MATN,EASM,CARJ,eAGM,MAHN,EAGM,CAFJ,eAA8C,MAA9C,EAA8C,eAAzB,EAAAJ,GAAE,mBACvB,eAA4F,MAA5F,EAA4F,eAAvDK,OAAOF,EAAKG,OAAOC,KAAKC,IAAG,QAAUC,QAAO,SAEnF,eAGM,MAHN,EAGM,CAFJ,eAAkD,MAAlD,EAAkD,eAA7B,EAAAT,GAAE,uBACvB,eAAyG,MAAzG,EAAyG,eAApEK,OAAOF,EAAKG,OAAS,EAAAL,SAAWM,KAAKC,IAAG,QAAUC,QAAO,WAGlG,eAGM,MAHN,EAGM,CAFJ,eAAiD,MAAjD,EAAiD,eAAzB,EAAAT,GAAE,mBAC1B,eAAwF,MAAxF,EAAwF,eAApE,EAAAU,YAAW,IAAKC,KAAY,IAAPR,EAAKS,IAAE,kC,iJAiB3C,GACbC,WAAY,CACVC,UAAA,MAEFC,MAJa,WAIJ,MACO,iBAANC,EADD,EACCA,EACFC,EAAQ,iBACRC,EAAO,eAAS,CACpBlB,GAAIgB,EACJlB,SAAU,OACVqB,QAAS,gBAAS,kBAAMF,EAAMG,MAAMC,SAAS,MAC7CC,KAAM,gBAAS,kBAAML,EAAMG,MAAMG,YACjCrB,KAAM,GACND,SAAU,KACVuB,aAAc,WACZN,EAAKO,YAAc,IAAIP,EAAKI,KAAKI,IAAIC,SAASC,EAAQrC,EAAA,KAAOC,YAC7D0B,EAAKW,UACLX,EAAKY,YAEPD,QAAS,WAEPE,EAAA,KAAeC,cAAcC,MAAM,CAGnCA,MAAO,eAAF,4OAYRC,UAAW,CAACC,MAAO,IAAM/B,KAAMc,EAAKC,QAAQiB,eACzCC,YAAa,aACZC,MAAK,SAACC,GACPrB,EAAKhB,KAAOqC,EAAOrB,KAAKsB,eACvBC,OAAM,SAACC,EAAKxB,QAKfY,SAAU,WAAF,8CAAE,oHACUZ,EAAKO,YAAYkB,QAAQC,QAAQC,OAD3C,OACJD,EADI,OAER1B,EAAKjB,SAAWI,OAAOuC,GAFf,2CAAF,qDAAE,KAKR1B,EAAKC,SACPD,EAAKM,eAEN,gBAAM,kBAAMN,EAAKC,WAAS,SAAC2B,GACtBA,GACF5B,EAAKM,kBAGT,IAAMuB,EAAU,eAAO7B,GACvB,yBACK6B,K,2CCzFT,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCVf","file":"static/js/chunk-7b317ddf.6e4bb6e9.js","sourcesContent":["const config = {\r\n  ArtAddress: '0xE9DB85dda883D4fdb11C60a6E04A7a9329e94EF7',\r\n  TokenAddress: '0xe97364f13Fc8f40B0ab372a51b645a648f091483',\r\n  SwapRouter: '0x10ED43C718714eb63d5aA57B78B54704E256024E',\r\n  FactoryAddress: '0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73',\r\n  WBNB: '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c'\r\n  // 测试使用\r\n  // ArtAddress: '0x66c3a308B5ca90EA1f2c1B6471B34bbB3A3aC0F4',\r\n  // TokenAddress: '0x5d358987f50e537Bc861915545eDD4924aa403b0',\r\n  // SwapRouter: '0x07d090e7FcBC6AFaA507A3441C7c5eE507C457e6',\r\n  // FactoryAddress: '0xd417A0A4b65D24f5eBD0898d9028D92E3592afCC'\r\n}\r\n     \r\nexport default config;\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./prerecode.vue?vue&type=style&index=1&id=c9d1a40e&lang=less&scoped=true\"","<template>\r\n  <div class=\"container bg-container\">\r\n    <HeadTop :Headtype=\"Headtype\" :title=\"$t('record.预售记录')\"></HeadTop>\r\n    <div class=\"list\">\r\n      {{artprice}}\r\n      <div class=\"item\" v-for=\"item in list\">\r\n        <div class=\"title\">{{$t('record.认购地址')}}</div>\r\n        <div class=\"address\">{{item.user}}</div>\r\n        <div class=\"item-top flex-between border-1px-b\">\r\n          <div class=\"row\">\r\n            <div class=\"label\">{{$t('record.认购数量')}}</div>\r\n            <div class=\"flex-item cont number\">{{Number(item.amount/Math.pow(10, 18)).toFixed(4)}}</div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"label\">{{$t('record.使用USDT数量')}}</div>\r\n            <div class=\"flex-item cont number\">{{Number(item.amount * artprice / Math.pow(10, 18)).toFixed(4)}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"item-bottom flex-between\">\r\n          <div class=\"time-tit\">{{$t('record.认购时间')}}</div>\r\n          <div class=\"time\">{{$dateformat(new Date(item.id * 1000), 'yyyy-mm-dd HH:MM:ss')}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import { Toast } from 'vant';\r\nimport HeadTop from '@/components/HeadTop' \r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport {useStore} from \"vuex\";\r\n// import Dateformat from \"dateformat\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport apolloProvider from '@/utils/apollo';\r\nimport gql from \"graphql-tag\";\r\nimport config from \"@/utils/config\";\r\nimport ArtAbi from \"@/utils/ArtAbi\";\r\nexport default {\r\n  components: {\r\n    HeadTop\r\n  },\r\n  setup () {\r\n    const { t } = useI18n()\r\n    const store = useStore()\r\n    const data = reactive({\r\n      $t: t,\r\n      Headtype: 'back',\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      list: [],\r\n      artprice: null,\r\n      initContract: () => {\r\n        data.artContract = new data.web3.eth.Contract(ArtAbi, config.ArtAddress)\r\n        data.getData()\r\n        data.getPrice()\r\n      },\r\n      getData: () => {\r\n        let _this = this\r\n        apolloProvider.defaultClient.query({\r\n        // query: gql`${this.sqlName}`,\r\n        // query ascListing($id: String!) {  listing: ascListing(id: $id) {    channels    id    agencyPropertyNumber    isSaleableAreaVerified    shareLink    title    formattedTitle {      actual      __typename    }    subtitle    tier    propertyType    prices {      type      currency      label      symbol      max      min      minPricePerSizeUnitByBuiltUp      maxPricePerSizeUnitByBuiltUp      __typename    }    cover {      ...mediaFields      __typename    }    medias {      ...mediaFields      __typename    }    youtubeIds    floorPlanImages {      ...mediaFields      __typename    }    description    updatedAt    publishedAt    address {      locality      formattedAddress      lat      lng      hideMarker      __typename    }    unitFeatures {      code      description {        enGB        zhHK        zhCN        msMY        idID        __typename      }      __typename    }    buildingFacilities {      code      description {        enGB        zhHK        zhCN        msMY        idID        __typename      }      __typename    }    featureDescription    referenceCode    transacted    multilanguagePlace {      enGB {        level1        level2        level3        __typename      }      __typename    }    attributes {      auctionDate      bathroom      bedroom      landArea      carPark      builtUp      furnishing      floorZone      buildingAge      maintenanceFee      layout      landTitleType      tenure      availableDate      aircond      pricePSF      pricePerSizeUnit      minimumPricePerSizeUnit      maximumPricePerSizeUnit      facingDirection      unitType      occupancy      titleType      promotion      highlight      sizeUnit      sizeUnitLandArea      bumiDiscount      threeDUrl      image360      propertyCondition      maidRooms      maidBathroom      floors      electricity      certificate      phoneLine      hideBuildingName      unexpiredLeaseYear      landAreaDimension      builtUpDimension      pricePerSizeUnitBuiltUp      pricePerSizeUnitLandArea      storeys      unit      floors      block      buildingId      township      isBumiLot      __typename    }    listers {      id      type      name      license      image {        ...mediaFields        __typename      }      website      contact {        phones {          label          number          via          __typename        }        __typename      }      createdAt      __typename    }    organisations {      id      type      name      email      license      website      description      color      logo {        ...mediaFields        __typename      }      address {        formattedAddress        __typename      }      contact {        phones {          number          label          __typename        }        emails        __typename      }      __typename    }    __typename  }}fragment mediaFields on Media {  url  urlTemplate  thumbnailUrl  __typename}\r\n        query: gql`query investLists($first: Int!, $user: Bytes!) {\r\n          investLists(first: $first, where: {user: $user}) {\r\n            id\r\n            amount\r\n            user\r\n            intro\r\n          }\r\n        }`,\r\n        // variables:params,\r\n      // variables: {\r\n      //   category:\"lifestyle\"\r\n      // },\r\n     variables: {first: 1000, user: data.address.toLowerCase()},\r\n        fetchPolicy: 'no-cache'\r\n      }).then((result) => {\r\n        data.list = result.data.investLists\r\n      }).catch((err, data) => {\r\n        console.log(err, data)\r\n        \r\n      })\r\n      },\r\n      getPrice: async  () => {\r\n        let price = await data.artContract.methods.price().call()\r\n        data.artprice = Number(price)\r\n      },\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n     watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.container{\r\n  .footer{\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.list {\r\n  padding: 10px 15px;\r\n  .item {\r\n    background: #fff;\r\n    border-radius: 13px;\r\n    padding: 15px;\r\n    font-size: 12px;\r\n    color: #666666;\r\n    line-height: 1;\r\n    .item-top{\r\n      padding-bottom: 13px;\r\n    }\r\n    .item-bottom{\r\n      padding-top: 12px;\r\n      .time{\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    .cont {\r\n      word-break: break-all;\r\n      margin-top: 8px;\r\n      font-weight: bold;\r\n    }\r\n    .row + .row{\r\n      text-align: right;\r\n    }\r\n    .number{\r\n      color: #0872D8;\r\n      font-weight: bold;\r\n    }\r\n    .title{\r\n    }\r\n    .address{\r\n      font-weight: bold;\r\n      color: #333333;\r\n      margin: 8px 0 14px;\r\n    }\r\n  }\r\n  .item + .item {\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./prerecode.vue?vue&type=template&id=c9d1a40e&scoped=true\"\nimport script from \"./prerecode.vue?vue&type=script&lang=js\"\nexport * from \"./prerecode.vue?vue&type=script&lang=js\"\n\nimport \"./prerecode.vue?vue&type=style&index=0&id=c9d1a40e&lang=less\"\nimport \"./prerecode.vue?vue&type=style&index=1&id=c9d1a40e&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9d1a40e\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./prerecode.vue?vue&type=style&index=0&id=c9d1a40e&lang=less\""],"sourceRoot":""}